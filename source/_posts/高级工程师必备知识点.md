---
title: 高级工程师必备知识点
date: 2020-03-10 20:45:30
update: 2020-03-10 20:45:30
categories: 面试
tags: [面试]
---

<div style="text-align: center"><iframe height="60" width="260" src="https://www.ximalaya.com/thirdparty/player/sound/player.html?id=265383104&type=red" frameborder=0 allowfullscreen></iframe></div>

<img style="width: 80%;height:80%" src="https://volc1612.gitee.io/blog/images/秒杀系统设计/安徽宏村.jfif"/>

<!-- more -->

### 应聘大厂工程师/技术经理的你编程基础是否牢固

#### 编程语言面试题之新版javase基础语法篇之运算符

##### 面试中短路运算符和位运算

```
& 按位与操作
    只有对应的两个二进制数为1时，结果位才为1
    1&1 = 1
    1&0 = 0
    0&1 = 0
    0&0 = 0
| 按位或操作
    有一个为1的时候，结果位就为1
    1|1 = 1
    1|0 = 1
    0|1 = 1
    0|0 = 0
& 和 && 都可以实现 和 这个功能
区别：& 两边都运算，而 && 先算 && 左侧，若左侧为false 那么右侧就不运算，判断语句中推荐使用 &&，效率更高
​
| 和 || 和上面类似
区别：||只要满足第一个条件，后面的条件就不再判断，而|要对所有的条件进行判断
​
把&&和||称之为短路运算符
```

##### 用最有效率的方法计算2乘以8

```
原理：将一个数左移n位，相当于乘以2的n次方，位运算是CPU直接支持的，所以效率高
答案：2<<3
​
常见的JDK源码里面HashMap的默认容量16
int DEFAULT_INITIAL_CAPACITY = 1 << 4; // aka 16
​
直接是二进制操作了，表示1左移4位，变成10000，转为10进制也就是16, 直接以二进制形式去运行，效率更高
```

#### 讲解异或运算在面试中的考查点和分析

##### 写个方法，传递两个非0的int数值进去，实现变量交换的方式，有几种方式？

* 方式一

    ```java
    public static void swap(int a, int b){
        System.out.printf("a=%d, b=%d",a,b);
        a = a + b;
        b = a - b ;
        a = a - b;
        System.out.printf("\na=%d, b=%d",a,b);
    }
    ```    
* 方式二 异或运算 (一个数与另一个数异或两次是其本身， 一个数和自身异或结果是0 )


    ```java
    public static void swap2(int a, int b){
        System.out.printf("a=%d, b=%d",a,b);
        a = a^b;   // a1 = a^b
        b = b^a;   // b = b^a^b
        a = a^b;   // a = a1^b = a^b^a
        System.out.printf("\na=%d, b=%d",a,b);
    }
    ```
#### 编程语言面试题之新版javase基础语法篇之类型

##### 说下java数据类型分类？

* 基础数据类型：byte、short、int、long、float、double、char、boolean
* 引用数据类型：其他都是引用类型
* String和Enum分别是什么类型：引用类型

##### 运算？

```
定义变量 int i = 5;
return i++; 和 return ++i; 返回结果是什么
答： 5，6
```

##### == 和equals的区别？

* 基本数据类型比较 要用==判断是否相等
* 引用数据类型： ==比较的是内存地址是否一样，不同对象的内存地址不一样，equals比较的是具体的内容， 也可以让开发者去定义什么条件去判断两个对象是否一样
 

### native关键字

### 面试BAT高级工程师/技术经理的java集合框架Map了解多少

#### 编程语言面试题之新版javase集合框架Map篇<小试牛刀上>

##### 了解Map吗？用过哪些Map的实现？

答：HashMap、Hashtable、LinkedHashMap、TreeMap、ConcurrentHashMap

##### 说下 HashMap和Hashtable 的区别？

HashMap：底层是基于数组+链表，非线程安全的，默认容量是16、允许有空的健和值
Hashtable：基于哈希表实现，线程安全的(加了synchronized)，默认容量是11，不允许有null的健和值

#### 编程语言面试题之对象底层HashCode和equals掌握

##### 介绍下对象的 hashCode()和equals()，使用场景？

```
hashcode
	顶级类Object里面的方法，所有的类都是继承Object,返回是一个int类型的数
	根据一定的hash规则(存储地址，字段，长度等)，映射成一个数组，即散列值
	
equals
	顶级类Object里面的方法，所有的类都是继承Object,返回是一个boolean类型
	根据自定义的匹配规则，用于匹配两个对象是否一样，一般逻辑如下
	//判断地址是否一样
	//非空判断和Class类型判断
	//强转
	//对象里面的字段一一匹配

使用场景：对象比较、或者集合容器里面排重、比较、排序
```

##### 代码实战: 编写一个User对象，重写里面的hashcode和equal方法?

```java
import java.util.Date;
import java.util.Objects;

public class User {

    private int age;

    private  String name;

    private Date time;

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Date getTime() {
        return time;
    }

    public void setTime(Date time) {
        this.time = time;
    }


    @Override
    public int hashCode() {

        //int code = age/name.length()+time.hashCode();
        //return code

        return Objects.hash(age,name,time);

    }

    @Override
    public boolean equals(Object obj) {

        if(this == obj) return true;

        if(obj == null || getClass() != obj.getClass()) return false;

        User user = (User) obj;

        return age == user.age && Objects.equals(name, user.name) && Objects.equals(time, user.time);

    }
}
```

#### 编程语言面试题之新版javase集合框架Map篇<小试牛刀下>

##### ashMap和TreeMap应该怎么选择，使用场景？

```
hashMap: 散列桶(数组+链表)，可以实现快速的存储和检索，但是确实包含无序的元素，适用于在map中插入删除和定位元素
treeMap:使用存储结构是一个平衡二叉树->红黑树，可以自定义排序规则，要实现Comparator接口
能便捷的实现内部元素的各种排序，但是一般性能比HashMap差，适用于安装自然排序或者自定义排序规则
(写过微信支付签名工具类就用这个类)
```

##### Set和Map的关系？

```
核心就是不保存重复的元素，存储一组唯一的对象
set的每一种实现都是对应Map里面的一种封装，
HashSet对应的就是HashMap，treeSet对应的就是treeMap
```

##### 常见Map的排序规则是怎样的？

按照添加顺序使用`LinkedHashMap`，按照自然排序使用`TreeMap`，自定义排序`TreeMap(Comparetor c)`。


#### 编程语言面试题之新版javase集合框架Map篇<进阶>

##### 如果需要线程安全，且效率高的Map，应该怎么做？

答案：多线程环境下可以用concurrent包下的ConcurrentHashMap, 或者使用Collections.synchronizedMap(),
ConcurrentHashMap虽然是线程安全，但是他的效率比Hashtable要高很多

##### 为什么Collections.synchronizedMap后是线程安全的？

答案：使用Collections.synchronizedMap包装后返回的map是加锁的

#### 编程语言面试题之新版javase集合框架Map高手篇<上>

##### 看过HashMap源码吗，介绍下你了解的HashMap？

```
答案：
看过源码
HashMap底层(数组+链表+红黑树 jdk8才有红黑树)
数组中每一项是一个链表，即数组和链表的结合体
Node<K,V>[] table 是数组，数组的元素是Entry(Node继承Entry)，Entry元素是一个key-value的键值对，它持有一个指向下个Entry的引用，table数组的每个Entry元素同时也作为当前Entry链表的首节点，也指向了该链表的下个Entry元素
在JDK1.8中，链表的长度大于8，链表会转换成红黑树
```

![hashmap数据结构](https://volc1612.gitee.io/blog/images/高级工程师必备知识点/hashmap数据结构.png)

##### 能否解释下什么是Hash碰撞？常见的解决办法有哪些，hashmap采用哪种方法？

#### 编程语言面试题之新版javase集合框架Map高手篇<中>

##### 你说HashMap底层是 数组+链表+红黑树，为什么要用这几类结构呢？

```
答案：
 数组 Node<K,V>[] table ，根据对象的key的hash值进行在数组里面是哪个节点
 
 链表的作用是解决hash冲突，将hash值一样的对象存在一个链表放在hash值对应的槽位
 
 红黑树 JDK8使用红黑树来替代超过8个节点的链表，主要是查询性能的提升，从原来的O(n)到O(logn),
 通过hash碰撞，让HashMap不断产生碰撞，那么相同的key的位置的链表就会不断增长，当对这个Hashmap的相应位置进行查询的时候，就会循环遍历这个超级大的链表，性能就会下降，所以改用红黑树
 ```

 ##### 为啥选择红黑树而不用其他树，比如二叉查找树，为啥不一直开始就用红黑树，而是到8的长度后才变换?

 ```
 答案：二叉查找树在特殊情况下也会变成一条线性结构，和原先的链表存在一样的深度遍历问题，查找性能就会慢，
使用红黑树主要是提升查找数据的速度，红黑树是平衡二叉树的一种，插入新数据后会通过左旋，右旋、变色等操作来保持平衡，解决单链表查询深度的问题
数据量少的时候操作数据，遍历线性表比红黑树所消耗的资源少，且前期数据少 平衡二叉树保持平衡是需要消耗资源的，所以前期采用线性表，等到一定数之后变换到红黑树
```

![红黑数结构](https://volc1612.gitee.io/blog/images/高级工程师必备知识点/红黑数结构.png)

#### 源码剖析之深入新版HashMap高手篇<下>

考点：是否掌握HashMap的底层实现，put、get流程

##### 说下hashmap的put和get的核心逻辑（JDK8以上版本）?

put核心流程，看图（高清图看资料里面，第5章第7集文件夹里面的html文件）

